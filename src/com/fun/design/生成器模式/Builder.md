# 生成器模式
## 定义
将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。
##生成器模式的结构和说明
- **builder**:生成器接口，定义创建product对象所需的各个部件的操作。即知道每个部件的功能如何实现，也知道如何见该部件装配到产品中。（重要部分）
- ConcreteBuilder:具体的生成器实现，实现各个部件的创建，并组装product对象的各个组件，同时提供让客户端获取对象的方法。
- **Director**:指导者，用来使用builder接口，以一个统一的过程来构建所需的product。负责整体的构建算法，通常是分步骤来执行的。（重要部分）
- Product:产品，表示被生成器构建的复杂对象，包含多个部件。
## 生成器模式的功能
- 构建复杂的产品，而且是细化的、分步骤的构建产品。一步步解决构造复杂对象的问题。
- 构建过程是统一的、固定不变的，变化的部分放到生成器不分了，只要配置不同的生成器，那么同样的构建过程就能构建出不同给的产品来。
## 生成器两个重要部分：
- 部件构建和产品装配
- 整体构建的算法。
生成器中强调的是，固定**整体构建的算法**，灵活扩展和切换部件的**具体构造和产品装配**的方式。所以要严格区分这两个部分。
## 生成器模式的使用
应用生成器模式的时候，可以让客户端创造Director，在Director里面封装整体构建算法，然后让Director去调用Builder，让builder封装具体部件的构建功能。
还有一种退化的方式，就是把客户端直接当做Director，然后客户端操作Builder构建产品。
## 生成器的实现
- 在Builder接口的实现中，每个方法可以有两部分功能：1. 创建部件对象。2. 组装部件。
- 在构建部件的方法里面实现选择并创建具体的部件对象，然后再把这个部件对象组装到产品对象中。这样，builder就可以和工厂方法配合使用了。
- 如果在实现builder的时候，只有创建对象的功能，没有组装的功能，那么这个时候的builder实现跟抽象工厂的实现是类似的。
## 指导者的实现
- 指导者承担的是整体的构建算法部分，是相对不变的部分，所以，把变化的部分分离出去是很重要的。
- 指导者分离出去的变化的部分放到生成器里，所以指导者知道整体的构建算法，却不知道如何具体的创建和装配部件对象。
- 真正的指导者不仅仅是按照一定顺序调用生成器来生成对象，而是由较为复杂的算法和运算过程。运算过程中根据需要调用生成器来生成对象。
